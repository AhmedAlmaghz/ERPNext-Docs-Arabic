\n\n## تكامل WooCommerce

باستخدام تكامل WooCommerce ، يُنشئ النظام أوامر مبيعات في ERPNext للأوامر التي تم إنشاؤها على WooCommerce باستخدام خطاف ويب WooCommerce.

أثناء إنشاء طلب مبيعات من WooCommerce ، إذا كان العميل أو العنصر مفقودًا في ERPNext ، فسيقوم النظام بإنشاء عميل / عنصر جديد باستخدام التفاصيل ذات الصلة من بيانات طلب WooCommerce. يقوم أيضًا بإنشاء عنوان مرتبط بالعميل باستخدام تفاصيل الشحن من بيانات الطلب.

## 1 \. كيفية إعداد WooCommerce؟

### 1.1 إنشاء مفتاح واجهة برمجة التطبيقات وسرية واجهة برمجة التطبيقات

1. من الشريط الجانبي لموقع WooCommerce الخاص بك ، انقر فوق الإعدادات.
2. انقر فوق علامة التبويب "خيارات متقدمة" ثم انقر فوق ارتباط REST API.
    
    ! [Woocommerce API] (https://docs.erpnext.com/files/wc-add-key.png)
    
3. انقر فوق الزر "إضافة مفتاح". قدم التفاصيل اللازمة وانقر على زر "إنشاء مفتاح API".
    
    ! [Woocommerce API Key] (https://docs.erpnext.com/files/wc-generate-keys.png)
    

### 1.2 إعدادات Woocommerce

1. في موقع ERPNext الخاص بك ، انتقل إلى: ** الصفحة الرئيسية> عمليات التكامل> الإعدادات> إعدادات Woocommerce **.
2. الصق مفتاح API والسر اللذين تم إنشاؤهما في الخطوة السابقة في حقلي "مفتاح عميل واجهة برمجة التطبيقات" و "سر عميل واجهة برمجة التطبيقات".
3. في "عنوان URL لخادم Woocommerce" ، الصق عنوان url الخاص بموقع WooCommerce.
4. تأكد من تحديد "تمكين المزامنة".
5. حدد "حساب الضرائب" و "حساب الشحن وإعادة التوجيه" في قسم تفاصيل الحساب.
6. حدد "إنشاء المستخدم" في قسم الإعدادات الافتراضية. سيتم استخدام هذا المستخدم لإنشاء العملاء والأصناف وأوامر المبيعات. تأكد من أن المستخدم لديه الأذونات ذات الصلة.
7. حدد "الشركة" التي سيتم استخدامها لإنشاء أوامر المبيعات.
8. انقر فوق حفظ.
9. بعد حفظ إعدادات Woocommerce ، يتم إنشاء "Secret" و "Endpoint" تلقائيًا.

! [إعدادات Woocommerce] (https://docs.erpnext.com/files/woocommerce-settings.png)

### 1.3 إعدادات Woocommerce Webhook

1. الآن من الشريط الجانبي لموقع woocommerce الخاص بك ، انتقل إلى الإعدادات.
2. انقر فوق علامة التبويب "خيارات متقدمة" ، ثم انقر فوق ارتباط Webhooks ثم انقر فوق الزر "إضافة خطاف ويب".
3. امنح خطاف الويب اسمًا من اختيارك.
4. انقر فوق القائمة المنسدلة الحالة وحدد "نشط".
5. حدد الموضوع على أنه "تم إنشاء الطلب".
6. انسخ نوع "نقطة النهاية" من نوع "إعدادات Woocommerce" في موقع ERPNext والصقه في حقل "عنوان URL للتسليم".
7. انسخ نوع المستند "Secret" من "إعدادات Woocommerce" في موقع ERPNext والصقه في الحقل "سري".
8. احتفظ بنسخة API كما هي وانقر على Save Webhook. الآن تم إعداده بنجاح.

! [Woocommerce Webhook] (https://docs.erpnext.com/files/wc-webhook.png)

صورة GIF أدناه لإظهار العملية بأكملها:

! [إعداد Woocommerce] (https://docs.erpnext.com/files/woocommerce-setup.gif)

> ** ملاحظة: ** في لقطة الشاشة و GIF أعلاه ، بدلاً من عنوان url للتسليم على موقع woocommerce ، تحتاج إلى لصق عنوان url الذي ستحصل عليه بعد حفظ "إعدادات Woocommerce" في حقل "نقطة النهاية" في مثيل ERPNext الخاص بك. هنا تم لصق عنوان URL آخر أثناء استخدام المضيف المحلي.

### 1.4 إنشاء أوامر Woocommerce ومزامنتها

1. من موقع Woocommerce الخاص بك ، قم بتسجيل نفسك كمستخدم في صفحة الحساب.
2. الآن انقر فوق خيار العناوين وقم بتوفير التفاصيل المطلوبة.
3. انقر فوق خيار "تسوق" ويمكن الآن رؤية المنتجات المتاحة.
4. أضف المنتجات المطلوبة إلى عربة التسوق وانقر على ** عرض السلة **.
5. من عربة التسوق ، بمجرد إضافة المنتجات المطلوبة ، يمكنك النقر فوق "متابعة عملية الشراء".
6. يمكن رؤية جميع تفاصيل الفواتير وتفاصيل الطلب الآن. بمجرد أن تكون موافقًا عليها ، انقر فوق زر ** تقديم الطلب **.
7. يمكن رؤية رسالة "تم استلام الطلب" تشير إلى أنه تم تقديم الطلب بنجاح.
8. الآن في مثيل ERPNext الخاص بك ، تحقق من أنواع المستندات التالية: العميل ، العنوان ، العنصر ، أمر المبيعات. سيتم جلبها وإنشاؤها من بيانات خطاف الويب.
9. في حالة عدم مزامنة الطلبات ، يمكنك التحقق من الخطأ في ** الصفحة الرئيسية> الإعدادات> الأساسية> سجل الأخطاء **.

! [إعداد Woocommerce] (https://docs.erpnext.com/files/woocommerce-order.gif)

## 2 \. سمات

### 2.1 الافتراضات

في DocType إعدادات Woocommerce:

* ** المستودع **: سيتم استخدام هذا المستودع لإنشاء أوامر المبيعات. المستودع الافتراضي هو "المتاجر".
* ** التسليم بعد (بالأيام) **: هذا هو التعويض الافتراضي (بالأيام) لتاريخ التسليم في أوامر المبيعات. التعويض الافتراضي هو 7 أيام من تاريخ تقديم الطلب.
* ** سلسلة أوامر المبيعات **: يمكنك تعيين سلسلة منفصلة لأوامر المبيعات التي تم إنشاؤها عبر woocommerce. السلسلة الافتراضية هي "SO-WOO-".
* ** UOM **: هذا هو وحدة القياس الافتراضية المستخدمة للأصناف وأوامر المبيعات. وحدة القياس الافتراضية هي "لا".

! [افتراضيات Woocommerce] (https://docs.erpnext.com/files/wc-defaults.png)

1. [طلب المبيعات] (https://docs.erpnext.com/docs/v13/user/manual/en/selling/sales-order)
2. [عنصر] (https://docs.erpnext.com/docs/v13/user/manual/en/stock/item)
3. [العميل] (https://docs.erpnext.com/docs/v13/user/manual/en/CRM/customer)
4. [العنوان] (https://docs.erpnext.com/docs/v13/user/manual/en/CRM/address)