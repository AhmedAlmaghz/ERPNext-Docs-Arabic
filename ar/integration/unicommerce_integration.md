## تكامل التجارة الأحادية

Unicommerce هو مجمع للعديد من منصات التجارة الإلكترونية التي تسمح لك ببيع العناصر من خلال العديد من الأسواق المدعومة وأمر العملية عبر واجهة موحدة تسمى Uniware. تعرف على المزيد حول Unicommerce على [https://unicommerce.com/](https://unicommerce.com/)

## تكامل ERPNext مع التجارة الموحدة

يقدم ERPNext تكاملاً كاملاً ثنائي الاتجاه مع Unicommerce باستخدام واجهات برمجة تطبيقات REST الخاصة بـ Uniware. يتم توفير هذا التكامل باستخدام تطبيق Frappe المدعوم رسميًا من قبل فريق Frappe. بشكل عام ، يغطي هذا التكامل:

1. مزامنة كتالوج العناصر مع Unicommerce (ثنائي الاتجاه)
2. مزامنة المخزون (اتجاه واحد من ERPNext إلى Unicommerce)
3. مزامنة طلب المبيعات الجديد
4. مزامنة فاتورة المبيعات أو إنشاء فاتورة المبيعات (يجب استخدام أي خيار واحد)

## تثبيت التطبيق

* إذا كنت تستضيف موقع ERPNext الخاص بك على Frappe Cloud ، فيمكنك تثبيت التطبيق بسرعة من خلال الانتقال إلى لوحة التحكم في موقعك. التطبيق متاح في [Frappe Cloud Marketplace](https://frappecloud.com/marketplace/apps/ecommerce_integrations)
* إذا كان موقعك مستضافًا بواسطة Frappe ، فيرجى رفع تذكرة دعم لتثبيت التطبيق على موقعك.
* إذا كنت تستضيف ERPNext بنفسك ، يمكنك تثبيت التطبيق باستخدام مقعد Frappe. راجع [وثائق مقاعد البدلاء](https://frappeframework.com/docs/user/en/bench/frappe-commands#app-installation) لتثبيت تطبيقات Frappe. "التجارة الإلكترونية_تكامل get-app - الفرع الرئيسي"

## المصادقة والإعداد الأساسي

![إعداد مصادقة unicommerce](https://docs.erpnext.com/files/unicommerce-auth-setup.png)

1. بمجرد تثبيت التطبيق ، انتقل إلى صفحة "Unicommerce Settings".
2. انقر فوق مربع الاختيار "تمكين التجارة الموحدة".
3. أدخل موقع Unicommerce واسم المستخدم وكلمة المرور.
4. تتم إضافة معرّف العميل افتراضيًا ، ولكن إذا قمت بتكوين معرف عميل منفصل ، فستحتاج إلى تحديثه هنا. إذا لم تكن متأكدًا من معرف العميل الخاص بك ، فيرجى الاتصال بفريق دعم Unicommerce.
5. انقر على "حفظ" وهذا سيبدأ عملية المصادقة مع Unicommerce وإعداد الحقول المخصصة للتكامل.
6. بمجرد الانتهاء من هذا الإعداد ، سترى رموز الوصول / التحديث في قسم "تفاصيل المصادقة". هذا يعني أن المصادقة كانت ناجحة ويمكنك الآن البدء في العمل على إعداد إضافي.

إذا فشلت المصادقة:

1. يرجى إعادة التحقق من التفاصيل المدخلة.
2. قد يتم وضع الخادم الخاص بك في قائمة الحظر بواسطة جدار الحماية. تواصل مع فريق دعم Unicommerce للحصول على عنوان IP لخادمك في القائمة البيضاء.

## تزامن العنصر

يتحقق هذا التكامل من العناصر التي تم إنشاؤها حديثًا ويقوم بتحميلها إلى Unicommerce على أساس كل ساعة. لتمكين هذه الميزة ، تحتاج إلى إعداد ما يلي:

1. اذهب إلى "Unicommerce Settings" وقم بتمكين "تحميل عناصر جديدة إلى Unicommerce".
2. تعيين مجموعة العناصر الافتراضية. يتم استخدام هذا فقط كإجراء احتياطي في حالة فقدان مجموعة العناصر.
3. أثناء إنشاء عنصر جديد ، حدد مربع الاختيار "المزامنة مع Unicommerce" ، لتحميل هذا العنصر إلى Unicommerce.
4. يمكن أيضًا تمكين مربع الاختيار هذا على العناصر الموجودة.

كود Unicommerce SKU غير قابل للتغيير ، وبالتالي لا يجب تغيير رمز العنصر بعد الإنشاء.

من أجل مزامنة مجموعة العناصر بشكل صحيح مع فئات المنتجات ، تحتاج إلى تعيين جميع مجموعات العناصر لفئات المنتجات الخاصة بها على Unicommerce.

لتعيين مجموعة العناصر وفئة المنتج:

1. ابحث أولاً عن رمز فئة المنتج على Unicommerce.
2. افتح مجموعة العناصر ذات الصلة على ERPNext وقم بتحديث رمز فئة منتج Unicommerce هناك.

![فئة منتج Unicommerce](https://docs.erpnext.com/files/unicommerce-product-category.png)![مجموعة عناصر ERPNext](https://docs.erpnext.com/files/erpnext-item- group.png)

يتم تعيين حقل مزامنة العنصر على النحو التالي:

| حقل ERPNext | مجال التجارة الأحادية | التعليقات |
| --- | --- | --- |
| كود الصنف | SKU | تطبق قيود Unicommerce SKU |
| اسم العنصر | اسم العنصر | |
| الوصف | الوصف | |
| الوزن لكل وحدة | الوزن | فقط إذا تم تعيينها بالجرام. |
| مدة الصلاحية بالأيام | مدة الصلاحية | |
| كود HSN | كود HSN | |
| صورة | صورة | |
| طول عنصر التجارة الأحادية | الطول | |
| عرض عنصر التجارة الأحادية | العرض | |
| ارتفاع عنصر التجارة الأحادية | الارتفاع | |
| معطل | ممكن | (يتم تعيين العكس) |
| الباركود EAN | EAN | |
| رمز UPC الشريطي | اتحاد الوطنيين الكونغوليين- A | |
| مجموعة العناصر | فئة المنتج | |

## مزامنة المخزون

بمجرد إعداد مزامنة العنصر ، يمكن تمكين مزامنة المخزون. يتحقق التكامل من التغييرات في مخزون ERPNext ويدفعها إلى Unicommerce في الفاصل الزمني المكون. تعتبر مستويات مخزون ERPNext مصدرًا للحقيقة من خلال التكامل ويتم استبدال مستويات مخزون Unicommerce بقيم مخزون ERPNext.

1. اذهب إلى "Unicommerce Settings" وانتقل لأسفل إلى قسم "Inventory Sync".
2. حدد "تمكين مزامنة المخزون"
3. تكوين تردد المزامنة. التردد الموصى به هو 15 إلى 60 دقيقة.
4. في جدول رسم الخرائط في المستودع ، أضف جميع أكواد المرافق التي لديك في Unicommerce وقم بتعيينها باستخدام مستودع ERPNext.
5. حدد مربع الاختيار "ممكّن" لجميع المرافق التي تريد تمكينها.
6. حفظ الإعدادات.

> ملاحظة: يتم دفع كل المخزون إلى الرف "DEFAULT". لا يدعم هذا التكامل أرفف التجارة الموحدة ، تأكد من أن لديك رفًا واحدًا فقط في التجارة الموحدة يسمى "DEFAULT" لضمان صحة مزامنة المخزون.

> ملاحظة: التجارة الأحادية ، مثل غيرها من التجارة الإلكترونية المدمجة ، لا تدعم المخزون الجزئي.

## معالجة أوامر المبيعات - سير العمل

فيما يلي سير العمل لمعالجة الطلبات على ERPNext. يمكنك أيضًا بدلاً من ذلك معالجة الطلبات على Unicommerce ومزامنة الطلب النهائي فقط.

![سير عمل Unicommerce](https://docs.erpnext.com/files/unicommerce_workflow.png)

## مزامنة طلب المبيعات - إعداد القناة (القنوات)

يدعم Unicommerce Integration الاستلام والمعالجة من قنوات متعددة. للسماح بذلك ، يجب أيضًا إجراء إعداد مزامنة طلب المبيعات على مراحل متعددة.

### الإعدادات الافتراضية لمزامنة طلب المبيعات

![مزامنة أمر المبيعات الافتراضية](https://docs.erpnext.com/files/sales-order-sync.png)

1. اذهب إلى "Unicommerce Settings".
2. قم بالتمرير إلى قسم إعداد "مزامنة أمر المبيعات".
3. إعداد تواتر مزامنة الأمر. يوصى بالتردد من 30 إلى 60 دقيقة.
4. إعداد مجموعة العملاء الافتراضية وسلسلة التسمية للمستندات.

### تكوينات مزامنة طلبات المبيعات الخاصة بالقناة

![مزامنة أمر مبيعات معين للقناة](https://docs.erpnext.com/files/unicommerce-channel-setup.png)

للسماح بتكوين مرن لكل قناة ، يلزمك إنشاء مستند "Unicommerce Channel" لكل قناة تريد تمكينها لمزامنة أمر المبيعات.

1. اذهب إلى "Unicommerce Channel" من شريط البحث أو من صفحة إعدادات Unicommerce.
2. انقر على "إضافة قناة Unicommerce"
3. املأ التفاصيل المطلوبة مثل معرف القناة والمستودع الافتراضي والشركة والحسابات وسلسلة التسمية.
4. إذا تم التعامل مع الشحن لهذه القناة عن طريق السوق ، فانقر فوق "معالجة الشحن حسب السوق" أو قم بإلغاء تحديدها.
5. بعد التكوين الكامل للقناة ، انقر فوق مربع الاختيار "ممكّن".

سيبدأ طلب المبيعات الجديد الذي تم إنشاؤه في Unicommerce الآن في المزامنة مع ERPNext. أثناء هذه العملية ، إذا تمت مصادفة عنصر جديد ، فسيتم إنشاؤه في ERPNext باستخدام معلومات من Unicommerce. يتم تعيين المعلومات ذات الصلة حول أمر التجارة الأحادية إلى حقول ERPNext ، ويمكن العثور على معلومات إضافية في قسم "تفاصيل التجارة الموحدة" في أمر المبيعات.

## مزامنة فاتورة المبيعات

يمكن معالجة مزامنة فاتورة المبيعات بإحدى طريقتين. يرجى تحديد الخيار المناسب حسب احتياجاتك.

#### 1. معالجة الفاتورة على Unicommerce (موصى به)

إذا كنت ترغب في معالجة الطلبات والفواتير على Unicommerce ومزامنة الطلبات التي تمت معالجتها بالكامل فقط في ERPNext ، فقم بتمكين "مزامنة الطلبات المكتملة فقط" في إعدادات Unicommerce.

#### 2. معالجة الفاتورة على ERPNext

إذا كنت ترغب في معالجة الطلبات من ERPNext فقط ، فأنت بحاجة إلى إنشاء فاتورة من أمر مبيعات ERPNext.

لإنشاء فاتورة ، انتقل إلى أمر مبيعات Unicommerce المتزامن ، وانقر فوق "التجارة الموحدة> إنشاء فاتورة". سيؤدي هذا إلى إنشاء فاتورة مبيعات وخصم المخزون أيضًا.

![إنشاء زر الفاتورة](https://docs.erpnext.com/files/generate-invoice.png)

## بيان الشحن

إذا كنت تقوم بمعالجة الطلبات على ERPNext باستخدام الطريقة رقم 2 الموضحة أعلاه ، فأنت بحاجة إلى إنشاء وإرسال بيان الشحن لإعلام Unicommerce بأنك قمت بشحن الطلبات.

المتطلبات المسبقة هي إعداد أنواع الدليل التالية ، ويمكنك العثور على التعليمات البرمجية في صفحة إنشاء بيان Unicommerce: 1. إنشاء موفر شحن Unicommerce 2. إنشاء طريقة شحن Unicommerce

![بيان شحنة Unicommerce](https://docs.erpnext.com/files/shipment-manifest.png)

عملية إنشاء البيان:

1. بمجرد أن تكون جاهزًا لإرسال الطرود إلى مزود الشحن ، يجب عليك إنشاء مستند "Unicommerce Shipment Manifest". انتقل إلى شريط البحث> "Unicommerce Shipping Manifest"> + Add
2. حدد معرف القناة وطريقة الشحن ورمز مزود الشحن.
3. يمكنك الآن إما استخدام زر "Get Package" لجلب الطلبات المفتوحة بناءً على عوامل التصفية المحددة أو استخدام حقل "Scan AWB Code" لمسح حزم AWB ضوئيًا. كلاهما سوف يملأ التفاصيل المتبقية تلقائيًا بعد الحفظ.
4. بمجرد التأكد من أن جميع التفاصيل تبدو صحيحة ، قم بحفظ المستند وإرساله.
5. عند تقديم المانيفست ، يتم إنشاء نفس المانيفست وإغلاقه في التجارة الموحدة ويتم تمييز الشحنات على أنها "مرسلة". يتم أيضًا جلب ملف Unicommerce Manifest PDF وإرفاقه بمستند بيان ERPNext.

## تحديثات الحالة

![قسم تفاصيل التجارة الموحدة](https://docs.erpnext.com/files/unicommerce-details-section.png)

يتم تحديث حالة التجارة الموحدة بشكل دوري في ERPNext ، يمكنك الاطلاع على الحالة الحالية في قسم "تفاصيل التجارة الموحدة".

## طلب الإلغاء

عندما يتم إلغاء الطلب على Unicommerce ، يقوم التكامل بمزامنة هذا الإجراء وإلغاء الطلب على ERPNext أيضًا. تتم أيضًا مزامنة الطلبات الملغاة جزئيًا وإزالة العناصر الملغاة من أمر مبيعات ERPNext. تتم مزامنة الإلغاء الكامل والجزئي على أساس كل ساعة وقبل إصدار الفواتير مباشرة.

## ترتيب العودة

عندما يتم إنشاء الإرجاع على Unicommerce ، يقوم التكامل بمزامنة هذا الإجراء وإنشاء مذكرة ائتمان _Draft_ في ERPNext.

يتم التعامل مع كلتا حالتى الإرجاع من خلال التكامل:

* RTO (العودة إلى الأصل) عند إرجاع الشحنة إلى الأصل ، تتغير حالة الشحن ويتم إنشاء مذكرة دائنة (مع تحديث المخزون) في ERPNext. سيكون إشعار الائتمان بالعائد الكامل.
* CIR (الإرجاع الذي بدأه العميل) عندما يقوم العميل بإرجاع الشحنة ، ينعكس ذلك في قسم طلب مبيعات Unicommerce. يتم إنشاء إشعار دائن كامل أو جزئي بناءً على طبيعة العائد الذي بدأه العميل.

يمكنك عرض جميع المرتجعات بالانتقال إلى "فاتورة المبيعات" والتصفية من خلال تعيين "Is Return" على "نعم". يتم أيضًا تسجيل رمز تتبع الإرجاع في مذكرة الائتمان.

أثناء إنشاء المرتجعات ، يتم اختيار مستودع المرتجعات بناءً على مستودع المرتجعات المكون في إعدادات التجارة غير الرسمية. إذا لم يتم تعيينه ، فسيتم استخدام المستودع الأصلي.

![مستودع إرجاع Unicommerce](https://docs.erpnext.com/files/return-warehouse-map.png)