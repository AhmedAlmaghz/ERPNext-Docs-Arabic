\nستساعدك هذه المقالة في إضافة حقل مخصص لجلب العناوين الكاملة على أي DocType ، باستخدام نهج من 3 خطوات.

** الخطوة 1. التخصيصات التجميلية على DocType المطلوب **

سنحتاج أولاً إلى إضافة حقلين جديدين في DocType لجلب العناوين: -

أ) حقل من النوع "ارتباط" يشير إلى مدير العنوان الخاص بنا

ب) حقل من النوع "للقراءة فقط" يعرض العنوان الكامل

قم بتدوين أسماء المتغيرات للحقول الجديدة التي تقوم بإنشائها. ستكون هذه المعلومات مطلوبة لاحقًا في العملية.

! [] (https://docs.erpnext.com/files/q90efZM.png)

للحصول على معلومات حول إنشاء حقول مخصصة على DocType ، يمكنك الرجوع إلى الرابط التالي - [Custom Fields in ERPNext] (https://docs.erpnext.com/docs/v13/user/manual/en/customize-erpnext/custom- مجال)

بمجرد الانتهاء من هذه الخطوة ، يجب أن يكون لديك حقلين جديدين في DocType المحدد ، كما هو موضح أدناه: -

! [] (https://docs.erpnext.com/files/SabQi7A.png)

** الخطوة 2. إضافة برنامج نصي للعميل لجلب العنوان الكامل من العنوان الرئيسي لدينا **

ابحث عن "Client Script" في شريط البحث ، وأنشئ برنامج Client Script جديد. حدد DocType المطلوب الذي نحتاج إلى جلب العنوان عليه.

في قسم البرنامج النصي ، قم بلصق برنامج العميل التالي: -

frappe.ui.form.on ("DocType Name"، "address \ _link \ _field"، function (frm، cdt، cdn) {

 إذا (frm.doc.address \ _link \ _field) {

 إرجاع frm.call ({

 الطريقة: "frappe.contacts.doctype.address.address.get \ _address \ _display"،

 أرغس: {

 "العنوان \ _dict": frm.doc.address \ _link \ _field

 } ،

 رد الاتصال: الوظيفة (ص) {

 إذا (رسالة r.)

 frm.set \ _value ("full \ _address \ _field" ، رسالة r.message) ؛

 }

 }) ؛

 }

 آخر{

 frm.set \ _value ("full \ _address \ _field"، "")؛

 }

}) ؛

سنحتاج هنا إلى استبدال التغييرات التالية بناءً على حالة الاستخدام الخاصة بك: -

أ) استبدل "DocType Name" باسم DocType الذي نحتاجه لجلب العنوان عليه. على سبيل المثال. فاتورة المبيعات وأمر الشراء وما إلى ذلك.

ب) استبدل "العنوان \ _ link \ _field" بالاسم المتغير لحقل الارتباط المخصص الذي أنشأناه في الخطوة 1

ج) استبدل "full \ _address \ _field" بالاسم المتغير لحقل القراءة المخصص المخصص الذي أنشأناه في الخطوة 1

بمجرد الانتهاء من ذلك ، سيكون لديك برنامج عميل يبدو كما يلي: -

! [] (https://docs.erpnext.com/files/VukPzs4.png)

** الخطوة الثالثة. احفظ وتمكين واختبر البرنامج النصي للعميل **

بمجرد تعديل البرنامج النصي للعميل وفقًا لحالة الاستخدام الخاصة بك ، يمكننا حفظه وتمكينه بالنقر فوق مربع الاختيار "ممكّن".

انتقل إلى DocType المطلوب وقم بتحديث الصفحة لتصبح التغييرات سارية المفعول.

الآن عند تحديد عنوان في حقل الارتباط المخصص الخاص بنا ، سيتم جلب العنوان بالكامل في حقل القراءة المخصص المخصص لدينا ، كما هو موضح أدناه: -

! [] (https://docs.erpnext.com/files/W3kxhT2.gif)