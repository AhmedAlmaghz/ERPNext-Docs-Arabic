---
description: setting up sendgrid smtp email in erpnext
---

# إعداد المصادقة الثنائية

### إعداد المصادقة الثنائية

### تمكين المصادقة الثنائية (2FA)

قم بتنشيط المصادقة الثنائية عن طريق تشغيل الأمر.

`مقاعد البدلاء - موقع [اسم الموقع] مجموعة التكوين enable_two_factor_auth true`

حدد ما يلي في إعدادات النظام

* طريقة التحقق من صحة OTP (تطبيق OTP = TOTP باستخدام Soft أو Hard Token بينما البريد الإلكتروني / الرسائل القصيرة = HOTP باستخدام البريد الإلكتروني أو الرسائل القصيرة
* وقت انتهاء صلاحية رمز الاستجابة السريعة على الخادم إذا تم تحديد تطبيق OTP
* اسم جهة إصدار OTP.

![تمكين المصادقة الثنائية](https://docs.erpnext.com/files/twofactor-1.png)

عند تفعيل المصادقة الثنائية من الإعداد ، يتم تنشيطها أيضًا للدور "الكل". بهذه الطريقة ، يتعين على جميع المستخدمين بما في ذلك المسؤول إجراء مصادقة من المستوى الثاني باستخدام رمز مميز. من خلال إلغاء تحديد مربع الاختيار "المصادقة الثنائية" في دور "الكل" وتمكينه في أدوار أخرى ، يمكن أن تقتصر الحاجة إلى تسجيل الدخول باستخدام رمز مميز على أدوار محددة. 2FA لا ينطبق على تسجيل الدخول من قبل مستخدمي الويب وتسجيل الدخول إلى واجهة برمجة التطبيقات

![الدور تمكين المصادقة الثنائية](https://docs.erpnext.com/files/twofactor-2.png)

إذا كنت تستخدم مصادقة SMS ، فيرجى التأكد من تحديث إعدادات الرسائل القصيرة الخاصة بك

![إعدادات SMS](https://docs.erpnext.com/files/twofactor-3.png)

إذا كنت تستخدم البريد الإلكتروني ، فتأكد من تحديث إعدادات حساب البريد الإلكتروني الصادر

![إعدادات البريد الإلكتروني](https://docs.erpnext.com/files/twofactor-4.png)

عندما يحاول المستخدم الجديد تسجيل الدخول لأول مرة في نظام تم فيه تمكين المصادقة الثنائية ولديه خيار المصادقة مثل تطبيق OTP ، يتم إرسال بريد إلكتروني يحتوي على رابط إلى رمز الاستجابة السريعة.

![Email Notify Two Factor](https://docs.erpnext.com/files/twofactor-5.png) ![صفحة كود QR](https://docs.erpnext.com/files/twofactor-6.png)

يقوم مسح رمز الاستجابة السريعة باستخدام تطبيق مصادقة مثل Google Authenticator بتسجيل وصول المستخدم ويبدأ تلقائيًا في إنشاء الرموز المميزة التي يمكن استخدامها لتسجيل الدخول

![تطبيق Two Factor Scan](https://docs.erpnext.com/files/twofactor\_app.jpeg)

إذا تم استخدام أي من البريد الإلكتروني / الرسائل القصيرة كطريقة مصادقة ، فستتلقى إشعارات أيضًا

![البريد الإلكتروني والرسائل القصيرة](https://docs.erpnext.com/files/twofactor-8.png)

#### أسئلة وأجوبة (FAQ)

س: لا يمكنني تسجيل الدخول حتى بعد اتباع العملية برمتها.

الإجابة: يستخدم Frappe خوارزمية OTP القائمة على TOTP ، والتي تعتمد على وقت نظام جهازك. يرجى التأكد من أن الجهاز الذي تستخدمه قد تم ضبطه على نفس الوقت كخادم ERPNext.
